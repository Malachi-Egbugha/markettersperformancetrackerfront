(this.webpackJsonpcmsfront=this.webpackJsonpcmsfront||[]).push([[0],{40:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),s=a(17),n=a.n(s),i=(a(40),a(8)),l=a(6),o=a(3),d=a.n(o),j=a(5),b=a(7),u=a(2),p=a(4),h=a(0),O=function(e){var t=e.className,a=e.children;return Object(h.jsx)("div",{className:t,children:a})},m=function(e,t){return e.location.pathname===t},x=function(){var e="superadmin"===JSON.parse(localStorage.getItem("usersign")||"{}").user.usertype;return console.log(e),e},f=function(){var e="admin"===JSON.parse(localStorage.getItem("usersign")||"{}").user.usertype;return console.log(e),e},g=function(){var e="management"===JSON.parse(localStorage.getItem("usersign")||"{}").user.usertype;return console.log(e),e},v="http://cdap.myeedc.com:5056",N=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Headers,a=JSON.parse(localStorage.getItem("usersign")||"{}"),r=a.token,t.append("Accept","application/json"),t.append("Content-Type","application/json"),t.append("authorization","Bearer: ".concat(r)),e.prev=5,e.next=8,fetch("".concat(v,"/read"),{method:"POST",headers:t});case 8:return c=e.sent,e.abrupt("return",c.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Accept","application/json"),a.append("Content-Type","application/json"),e.abrupt("return",fetch("".concat(v,"/api/signin"),{method:"POST",headers:a,body:JSON.stringify(t)}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.log(e)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){if("undefined"!==typeof window)return localStorage.removeItem("usersign"),fetch("".concat(v,"/api/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))},S=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Headers,r=JSON.parse(localStorage.getItem("usersign")||"{}"),c=r.token,a.append("Accept","application/json"),a.append("Content-Type","application/json"),a.append("authorization","Bearer: ".concat(c)),e.abrupt("return",fetch("".concat(v,"/api/signup"),{method:"POST",headers:a,body:JSON.stringify(t)}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.log(e)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Headers,a=JSON.parse(localStorage.getItem("usersign")||"{}"),r=a.token,t.append("Accept","application/json"),t.append("Content-Type","application/json"),t.append("authorization","Bearer: ".concat(r)),e.abrupt("return",fetch("".concat(v,"/user/read"),{method:"POST",headers:t}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.log(e)})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var r,c,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Headers,c=JSON.parse(localStorage.getItem("usersign")||"{}"),s=c.token,r.append("Accept","application/json"),r.append("Content-Type","application/json"),r.append("authorization","Bearer: ".concat(s)),e.prev=5,e.next=8,fetch("".concat(v,"/user/updateuser/").concat(t),{method:"PUT",headers:r,body:JSON.stringify(a)});case 8:return n=e.sent,e.abrupt("return",n.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Headers,a=JSON.parse(localStorage.getItem("usersign")||"{}"),r=a.token,t.append("Accept","application/json"),t.append("Content-Type","application/json"),t.append("authorization","Bearer: ".concat(r)),e.prev=5,e.next=8,fetch("".concat(v,"/stats"),{method:"POST",headers:t});case 8:return c=e.sent,e.abrupt("return",c.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("usersign")||"{}"),r=a.token,e.prev=1,e.next=4,fetch("".concat(v,"/user/finduser/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer: ".concat(r)}});case 4:return c=e.sent,e.abrupt("return",c.json());case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var r,c,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Headers,c=JSON.parse(localStorage.getItem("usersign")||"{}"),s=c.token,r.append("Accept","application/json"),r.append("Content-Type","application/json"),r.append("authorization","Bearer: ".concat(s)),e.prev=5,e.next=8,fetch("".concat(v,"/user/updatedetail/").concat(t),{method:"PUT",headers:r,body:JSON.stringify(a)});case 8:return n=e.sent,e.abrupt("return",n.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var r,c,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Headers,c=JSON.parse(localStorage.getItem("usersign")||"{}"),s=c.token,r.append("Accept","application/json"),r.append("Content-Type","application/json"),r.append("authorization","Bearer: ".concat(s)),e.prev=5,e.next=8,fetch("".concat(v,"/user/updateemail/").concat(t),{method:"PUT",headers:r,body:JSON.stringify(a)});case 8:return n=e.sent,e.abrupt("return",n.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Headers,r=JSON.parse(localStorage.getItem("usersign")||"{}"),c=r.token,a.append("Accept","application/json"),a.append("Content-Type","application/json"),a.append("authorization","Bearer: ".concat(c)),e.prev=5,e.next=8,fetch("".concat(v,"/manualupload"),{method:"POST",headers:a,body:JSON.stringify(t)});case 8:return s=e.sent,e.abrupt("return",s.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),M=(a(43),function(){var e=Object(r.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(p.a)(e,2),a=t[0],c=t[1],s=a.email,n=a.password,i=a.error,o=a.loading,m=a.redirectToReferrer,x=function(e){return function(t){c(Object(u.a)(Object(u.a)({},a),{},Object(b.a)({error:""},e,t.target.value)))}},f=function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i),t.preventDefault(),c(Object(u.a)(Object(u.a)({},a),{},{error:"",loading:!0})),e.next=5,y({email:s,password:n});case 5:(r=e.sent).error?c(Object(u.a)(Object(u.a)({},a),{},{error:r.error,loading:!1})):(l=r,o=function(){c(Object(u.a)(Object(u.a)({},a),{},{redirectToReferrer:!0}))},localStorage.setItem("usersign",JSON.stringify(l)),o());case 7:case"end":return e.stop()}var l,o}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(O,{className:"outerdiv",children:Object(h.jsx)("div",{className:"loginbanner",children:Object(h.jsxs)("div",{className:"card",style:{textAlign:"left"},children:[Object(h.jsx)("div",{className:"card-header",style:{backgroundColor:"#265acc"},children:"LOGIN"}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:i?"":"none"},children:i}),o&&Object(h.jsxs)("div",{className:"spinning",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]}),function(){if(m)return Object(h.jsx)(l.a,{to:"/dashboard"})}(),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"text-mute text-primary-p",style:{color:"#000000"},children:"Email:"}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("i",{className:"fa fa-envelope icon"}),Object(h.jsx)("input",{value:s,onChange:x("email"),type:"email",className:"input-field"})]})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"text-mute text-primary-p",style:{color:"#000000"},children:"Password:"}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("i",{className:"fa fa-key icon"}),Object(h.jsx)("input",{onChange:x("password"),value:n,type:"password",className:"input-field"})]})]}),Object(h.jsx)("button",{type:"submit",onClick:f,className:"btn btn-primary",style:{backgroundColor:"#265acc",width:"100%"},children:"LOGIN"})]})]})]})})})}),F=Object(l.h)((function(e){var t=e.history,a=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("sidebar").classList.add("sidebar_responsive");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("div",{className:"nav_icon",onClick:a,children:Object(h.jsx)("i",{className:"fa fa-bars"})}),Object(h.jsx)("div",{className:"navbar__left",children:Object(h.jsxs)("span",{onClick:function(){return r()},className:"nav-link",style:{cursor:"pointer",color:"red"},children:[Object(h.jsx)("i",{className:"fa fa-power-off"}),"Log out"]})}),Object(h.jsx)("div",{children:Object(h.jsx)("h2",{className:"font-bold",children:"MARKETERS PERFORMANCE TRACKER"})}),Object(h.jsxs)("div",{className:"navbar__right",children:[Object(h.jsx)(i.b,{to:"#",children:Object(h.jsx)("i",{className:"fa fa-search"})}),Object(h.jsx)(i.b,{to:"#",children:Object(h.jsx)("i",{className:"fa fa-clock-o"})}),Object(h.jsx)(i.b,{to:"#"})]})]})})),P=a.p+"static/media/logo.8a3cb3a3.png",D=function(){var e=Object(l.g)(),t=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("sidebar").classList.remove("sidebar_responsive");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{id:"sidebar",children:[Object(h.jsxs)("div",{className:"sidebar__title",children:[Object(h.jsx)("div",{className:"sidebar__img"}),Object(h.jsx)("i",{className:"fa fa-times",id:"sidebarIcon",onClick:t})]}),Object(h.jsx)("div",{style:{display:"flex",backgroundColor:"#ffffff",justifyContent:"center"},children:Object(h.jsx)("img",{style:{width:"100px",borderRadius:"30%",background:"#fff",marginBottom:"50px",marginTop:"30px"},src:P,alt:""})}),Object(h.jsxs)("div",{className:"sidebar__menu",children:[Object(h.jsxs)("div",{className:m(e,"/dashboard")?"sidebar__link active_menu_link":"sidebar__link",children:[Object(h.jsx)("i",{className:"fa fa-home"}),Object(h.jsx)(i.b,{to:"/dashboard",children:"Dashboard"})]}),Object(h.jsx)("h2",{children:"ALLOCATION"}),Object(h.jsxs)("div",{style:x()||f()?{display:"block"}:{display:"none"},className:m(e,"/allocate")?"sidebar__link active_menu_link":"sidebar__link",children:[Object(h.jsx)("i",{className:"fab fa-acquisitions-incorporated"}),Object(h.jsx)(i.b,{to:"/allocate",children:"Upload Data"})]}),Object(h.jsxs)("div",{style:x()||f()||g()?{display:"block"}:{display:"none"},className:m(e,"/manageallocations")?"sidebar__link active_menu_link":"sidebar__link",children:[Object(h.jsx)("i",{className:"fas fa-bullseye"}),Object(h.jsx)(i.b,{to:"/manageallocations",children:"Performance Summary"})]}),Object(h.jsx)("h2",{children:"Manage Users"}),Object(h.jsxs)("div",{className:m(e,"/users")?"sidebar__link active_menu_link":"sidebar__link",children:[Object(h.jsx)("i",{className:"fa fa-handshake-o"}),Object(h.jsx)(i.b,{to:"/users",children:"Manage Users"})]})]})]})},I=(a(49),function(e){var t=e.children;return Object(h.jsxs)("div",{className:"contain",children:[Object(h.jsx)(F,{}),Object(h.jsx)("main",{children:t}),Object(h.jsx)(D,{})]})}),U=a(12),B=a.n(U),L=function(e){var t=e.searchmethod,a=e.placeholder;return Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("i",{className:"fas fa-search icon"}),Object(h.jsx)("input",{placeholder:a,type:"text",onChange:t,className:"input-field"})]})},q=function(e){for(var t=e.postsPerpage,a=e.totalPost,r=e.paginate,c=e.currentPage,s=[],n=1;n<=Math.ceil(a/t);n++)s.push(n);return Object(h.jsx)("nav",{id:"pagination",style:x()||f()?{display:""}:{display:"none"},children:Object(h.jsx)("ul",{className:"pagination",children:s.map((function(e){return Object(h.jsx)("li",{className:"page-item",style:{backgroundColor:"#DA251C",marginRight:"0.6rem"},children:Object(h.jsx)("a",{onClick:function(){return r(e)},href:"#",className:"page-link",style:c===e?{color:"#ffffff",backgroundColor:"#DA251C",borderRadius:"50%"}:{color:"#ffffff",backgroundColor:"#265acc",borderRadius:"50%"},children:e})},e)}))})})},J=function(e){var t=e.info,a=e.modalIsOpen,c=e.setModalIsOpen,s=e.intype;B.a.setAppElement("#root");var n=Object(r.useState)([]),i=Object(p.a)(n,2),l=i[0],o=i[1],d=Object(r.useState)(""),j=Object(p.a)(d,2),b=j[0],u=j[1],O=Object(r.useState)(1),m=Object(p.a)(O,2),x=m[0],f=m[1],g=Object(r.useState)(300),v=Object(p.a)(g,1)[0],N=x*v,y=N-v;return Object(r.useEffect)((function(){o(t)}),[t]),Object(h.jsx)("div",{children:Object(h.jsxs)(B.a,{isOpen:a,shouldCloseOnOverlayClick:!1,onRequestClose:function(){return c(!1)},style:{overlay:{backgroundColor:"#000000"},content:{color:"#000000"}},children:[Object(h.jsxs)(r.Fragment,{children:[Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return u(""),c(!1)},style:{marginLeft:"10px"},children:"Back"}),Object(h.jsx)("h2",{className:"font-bold",children:"PERFORMANCE BY ".concat(s)}),Object(h.jsx)(L,{searchmethod:function(e){u(e.target.value)},placeholder:"...Search"}),Object(h.jsxs)("table",{className:"table",children:[Object(h.jsxs)("thead",{children:[Object(h.jsx)("th",{children:"S/N"}),Object(h.jsx)("th",{style:"TRANSFORMERS"===s||"FEEDERS"===s?{display:""}:{display:"none"},children:"District"}),Object(h.jsx)("th",{style:"TRANSFORMERS"===s?{display:""}:{display:"none"},children:"Feeder Name"}),Object(h.jsx)("th",{style:"FEEDERS"===s||"TRANSFORMERS"==s?{display:""}:{display:"none"},children:"Feeder Code"}),Object(h.jsx)("th",{children:s}),Object(h.jsx)("th",{style:"TRANSFORMERS"===s?{display:""}:{display:"none"},children:"TRANSFORMER CODE"}),Object(h.jsx)("th",{style:"MARKETERS"===s?{display:""}:{display:"none"},children:"Number of Transformers"}),Object(h.jsx)("th",{children:"Total Billed POP"}),Object(h.jsx)("th",{children:"Total Paid POP"}),Object(h.jsx)("th",{children:"CC"}),Object(h.jsx)("th",{children:"Total Billed Amount"}),Object(h.jsx)("th",{children:"Total Paid Amount"}),Object(h.jsx)("th",{children:"CE"})]}),Object(h.jsx)("tbody",{children:l.filter((function(e){return""===b||"string"===typeof e._id&&e.district&&e.feeder&&(e._id.toLowerCase().includes(b.toLowerCase())||e.district.toLowerCase().includes(b.toLowerCase())||e.feeder.toLowerCase().includes(b.toLowerCase()))||"string"===typeof e._id&&e.district&&(e._id.toLowerCase().includes(b.toLowerCase())||e.district.toLowerCase().includes(b.toLowerCase()))||"string"===typeof e._id&&e._id.toLowerCase().includes(b.toLowerCase())?e:void 0})).slice(y,N).map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:y+=1}),Object(h.jsx)("td",{style:"TRANSFORMERS"===s||"FEEDERS"===s?{display:""}:{display:"none"},children:e.district}),Object(h.jsx)("td",{style:"TRANSFORMERS"==s?{display:""}:{display:"none"},children:e.feeder}),Object(h.jsx)("td",{style:"FEEDERS"==s||"TRANSFORMERS"==s?{display:""}:{display:"none"},children:e.feeder_code}),Object(h.jsx)("td",{style:{color:"#3b9668",fontWeight:700},children:e._id}),Object(h.jsx)("td",{style:"TRANSFORMERS"==s?{display:""}:{display:"none"},children:e.transformer_code}),Object(h.jsx)("td",{style:"MARKETERS"==s?{display:""}:{display:"none"},children:e.totalCount}),Object(h.jsx)("td",{children:e.totalbilledpop}),Object(h.jsx)("td",{children:e.totalpaidpop}),Object(h.jsx)("td",{style:{fontWeight:"bold"},children:Math.round(e.totalpaidpop/e.totalbilledpop*100)+"%"}),Object(h.jsx)("td",{children:e.totalbilledamt.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}),Object(h.jsx)("td",{children:e.totalpaidamt.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}),Object(h.jsx)("td",{style:{fontWeight:"bold"},children:Math.round(e.totalpaidamt/e.totalbilledamt*100)+"%"})]},t)}))})]})]}),Object(h.jsx)(q,{postsPerpage:v,totalPost:l.length,paginate:function(e){f(e)},currentPage:x})]})})},K=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),n=Object(p.a)(s,2),i=n[0],l=n[1],o=Object(r.useState)(""),b=Object(p.a)(o,2),O=b[0],m=b[1],x=Object(r.useState)({totalMarketters:"",totalTransformers:"",totalFeeders:"",totalDistricts:"",Districtstats:[],Tranformerstats:[],Feederstats:[],Marketterstats:[],Totalpaidpop:"",Totalbillpop:"",Totalbillamt:0,Totalpaidamt:0,Totalarrears:0}),f=Object(p.a)(x,2),g=f[0],v=f[1],N=g.totalMarketters,y=g.totalTransformers,_=g.totalFeeders,S=g.totalDistricts,T=g.Districtstats,C=g.Tranformerstats,w=g.Feederstats,E=g.Marketterstats,R=g.Totalpaidpop,A=g.Totalbillpop,M=g.Totalbillamt,F=g.Totalpaidamt,P=(g.Totalarrears,Object(r.useState)("")),D=Object(p.a)(P,2),U=D[0],B=D[1],L=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:(t=e.sent).error?B(t.error):v(Object(u.a)(Object(u.a)({},g),{},{totalMarketters:t.totalMarketters,totalTransformers:t.totalTransformers,totalFeeders:t.totalFeeders,totalDistricts:t.totalDistricts,Feederstats:t.Feederstats,Districtstats:t.Districtstats,Marketterstats:t.Marketterstats,Tranformerstats:t.Tranformerstats,Totalpaidpop:t.Totalstats[0].totalpaidpop+t.Totalstats[1].totalpaidpop,Totalbillpop:t.Totalstats[0].totalbilledpop+t.Totalstats[1].totalbilledpop,Totalbillamt:Number(t.Totalstats[0].totalbilledamt)+Number(t.Totalstats[1].totalbilledamt),Totalpaidamt:Number(t.Totalstats[0].totalpaidamt)+Number(t.Totalstats[1].totalpaidamt),Totalarrears:Number(t.Totalstats[0].totalarrears)+Number(t.Totalstats[1].totalarrears)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e,t){l(e),m(t),c(!0)};Object(r.useEffect)((function(){L()}),[]);return Object(h.jsx)(I,{children:Object(h.jsxs)("div",{className:"main__container",children:[Object(h.jsxs)("div",{className:"main__title",children:[Object(h.jsx)("img",{src:"assets/banner.jpg",alt:""}),Object(h.jsx)("div",{className:"main__greeting",children:Object(h.jsx)("h1",{className:"text-primary-p",children:"DASHBOARD"})})]}),Object(h.jsx)("hr",{className:"main__cards"}),Object(h.jsx)("div",{className:"alert alert-danger",style:{display:U?"":"none"},children:U}),Object(h.jsxs)("div",{className:"charts",children:[Object(h.jsxs)("div",{className:"charts__left",children:[Object(h.jsx)("div",{className:"charts__left__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Summary"})})}),Object(h.jsxs)("div",{id:"apex1",children:[Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Billed Amount"}),Object(h.jsx)("p",{children:M.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")})]}),Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Paid Amount"}),Object(h.jsx)("p",{children:F.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")})]}),Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total CE"}),Object(h.jsx)("p",{children:"".concat(Math.round(Number(F)/Number(M)*100),"%")})]}),Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Billed PoP"}),Object(h.jsx)("p",{children:A.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]}),Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Paid Pop"}),Object(h.jsx)("p",{children:R.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]}),Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total CC"}),Object(h.jsx)("p",{children:"".concat(Math.round(Number(R)/Number(A)*100),"%")})]})]})]}),Object(h.jsxs)("div",{className:"charts__right",children:[Object(h.jsx)("div",{className:"charts__right__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Summary Data"})})}),Object(h.jsxs)("div",{className:"charts__right__cards",children:[Object(h.jsx)("button",{onClick:function(){return q(E,"MARKETERS")},children:Object(h.jsxs)("div",{className:"card1",style:{padding:"60px"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Number of MARKETERS"}),Object(h.jsx)("p",{children:N.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})}),Object(h.jsx)("button",{onClick:function(){return q(T,"DISTRICTS")},children:Object(h.jsxs)("div",{className:"card2",style:{padding:"60px"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Number of Districts"}),Object(h.jsx)("p",{children:S.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})}),Object(h.jsx)("button",{onClick:function(){return q(w,"FEEDERS")},children:Object(h.jsxs)("div",{className:"card3",style:{padding:"60px"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Number of Feeders"}),Object(h.jsx)("p",{children:_.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})}),Object(h.jsx)("button",{onClick:function(){return q(C,"TRANSFORMERS")},children:Object(h.jsxs)("div",{className:"card4",style:{padding:"60px"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Number of Transformers"}),Object(h.jsx)("p",{children:y.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})})]})]})]}),Object(h.jsx)(J,{modalIsOpen:a,setModalIsOpen:c,info:i,intype:O})]})})},H=function(e,t){for(var a=""+e;a.length<t;)a="0"+a;return a},z=function(e){var t=e.allocations,a=e.indexOfFirstPost;return Object(h.jsx)("div",{children:Object(h.jsxs)("table",{className:"table table-striped",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col"}),Object(h.jsx)("th",{scope:"col",children:"connectiontype"}),Object(h.jsx)("th",{scope:"col",children:"cust_category"}),Object(h.jsx)("th",{scope:"col",children:"district"}),Object(h.jsx)("th",{scope:"col",children:"feeder"}),Object(h.jsx)("th",{scope:"col",children:"feeder_code"}),Object(h.jsx)("th",{scope:"col",children:"transformer"}),Object(h.jsx)("th",{scope:"col",children:"transformer_code"}),Object(h.jsx)("th",{scope:"col",children:"billed_pop"}),Object(h.jsx)("th",{scope:"col",children:"paid_pop"}),Object(h.jsx)("th",{scope:"col",children:"CC"}),Object(h.jsx)("th",{scope:"col",children:"billed_amt"}),Object(h.jsx)("th",{scope:"col",children:"paid_amt"}),Object(h.jsx)("th",{scope:"col",children:"CE"}),Object(h.jsx)("th",{scope:"col",children:"arrears"}),Object(h.jsx)("th",{scope:"col",children:"bill_type"}),Object(h.jsx)("th",{scope:"col",children:"MARKETER_NAME"}),Object(h.jsx)("th",{scope:"col",children:"STAFF_ID"}),Object(h.jsx)("th",{scope:"col",children:"marketer_phone"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:a+=1}),Object(h.jsx)("td",{children:e.connectiontype}),Object(h.jsx)("td",{children:e.cust_category}),Object(h.jsx)("td",{children:e.district}),Object(h.jsx)("td",{children:e.feeder}),Object(h.jsx)("td",{children:e.feeder_code}),Object(h.jsx)("td",{children:e.transformer}),Object(h.jsx)("td",{children:e.transformer_code}),Object(h.jsx)("td",{children:e.billed_pop}),Object(h.jsx)("td",{children:e.paid_pop}),Object(h.jsx)("td",{children:Math.round(e.paid_pop/e.billed_pop*100)+"%"}),Object(h.jsx)("td",{children:Number(e.billed_amt).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}),Object(h.jsx)("td",{children:Number(e.paid_amt).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}),Object(h.jsx)("td",{children:Math.round(Number(e.paid_amt)/Number(e.billed_amt)*100)+"%"}),Object(h.jsx)("td",{children:e.arrears.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}),Object(h.jsx)("td",{children:e.bill_type}),Object(h.jsx)("td",{children:e.MARKETER_NAME}),Object(h.jsx)("td",{children:H(e.STAFF_ID,5)}),Object(h.jsx)("td",{children:"0".concat(e.marketer_phone)})]},t)}))})]})})},$=function(){var e=Object(r.useState)(1),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(500),n=Object(p.a)(s,1)[0],i=Object(r.useState)([]),l=Object(p.a)(i,2),o=l[0],b=l[1],u=Object(r.useState)(""),O=Object(p.a)(u,2),m=O[0],x=O[1],f=Object(r.useState)(""),g=Object(p.a)(f,2),v=g[0],y=g[1],_=a*n,S=_-n,T=o.filter((function(e){return""===v||"undefined"!==typeof e.MARKETER_NAME&&"undefined"!==typeof e.STAFF_ID&&(e.MARKETER_NAME.toLowerCase().includes(v.toLowerCase())||H(e.STAFF_ID,5).includes(v))?e:void 0})).slice(S,_),C=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent).error?x(t.error):b(t.ourPerformance);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){C()}),[]);return Object(h.jsx)(I,{children:Object(h.jsxs)("div",{className:"main__container",children:[Object(h.jsxs)("div",{className:"main__title",children:[Object(h.jsx)("img",{src:"assets/banner.jpg",alt:""}),Object(h.jsx)("div",{className:"main__greeting",children:Object(h.jsx)("h1",{className:"text-primary-p",children:"Manage Allocations"})})]}),Object(h.jsx)("hr",{className:"main__cards"}),Object(h.jsx)("div",{className:"alert alert-danger",style:{display:m?"":"none"},children:m}),Object(h.jsx)(L,{searchmethod:function(e){y(e.target.value)},placeholder:"Search by Name or Staff ID"}),Object(h.jsx)(z,{allocations:T,indexOfFirstPost:S}),Object(h.jsx)(q,{postsPerpage:n,totalPost:o.length,paginate:function(e){c(e)},currentPage:a})]})})},G=function(e){var t=e.createUser;return Object(h.jsx)("div",{children:t&&Object(h.jsx)("div",{className:"alert alert-info",children:Object(h.jsxs)("h2",{children:[" ","".concat(t)]})})})},W=function(e){var t=e.displayusers,a=e.changeStatus,c=e.changeaccessStatus,s=e.indexOfFirstPost,n=e.changeModalemail,i=Object(r.useState)({error:"",createUser:"",usertype:""}),l=Object(p.a)(i,2),o=l[0],d=l[1];return Object(h.jsx)(r.Fragment,{children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col"}),Object(h.jsx)("th",{scope:"col",children:"Email"}),Object(h.jsx)("th",{scope:"col",children:"Update Status"}),Object(h.jsx)("th",{scope:"col",children:"ResetPassword"}),Object(h.jsx)("th",{scope:"col",children:"Change Email"}),Object(h.jsx)("th",{scope:"col",children:"Change Access Type"}),Object(h.jsx)("th",{scope:"col",children:"Access Type"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:s+=1}),Object(h.jsx)("td",{children:e.email}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{style:x()?{display:""}:{display:"none"},onClick:a,value:e._id,type:"button",className:"active"===e.status?"btn btn-danger":"btn btn-success",children:"active"===e.status?"Deactivate":"Activate"})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{style:x()?{display:""}:{display:"none"},onClick:a,value:e._id,type:"button",className:"btn btn-success",children:"Reset"})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{style:x()?{display:""}:{display:"none"},onClick:n,value:e._id,type:"button",className:"btn btn-dark",children:Object(h.jsx)("i",{className:"fas fa-users-cog"})})}),Object(h.jsx)("td",{style:x()?{display:""}:{display:"none"},children:Object(h.jsx)("form",{children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsxs)("select",{datatype:e._id,onChange:(r="usertype",function(e){var t=e.target.getAttribute("datatype");d(Object(u.a)(Object(u.a)({},o),{},Object(b.a)({error:"",createUser:""},r,e.target.value))),c(t,e.target.value)}),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),Object(h.jsx)("option",{value:"superadmin",children:"Super Admin"}),Object(h.jsx)("option",{value:"admin",children:"Admin"}),Object(h.jsx)("option",{value:"management",children:"Management"})]}),Object(h.jsx)("input",{value:e._id,type:"hidden"})]})})}),Object(h.jsx)("td",{children:e.usertype})]},t);var r}))})]})})},V=JSON.parse(localStorage.getItem("usersign")||"{}").user,Y=function(e){var t=e.email,a=e.handleChange,c=e.clickSubmit,s=e.changeModalstate;return Object(h.jsxs)(r.Fragment,{children:[Object(h.jsxs)("form",{style:x()||f()?{display:""}:{display:"none"},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{value:t,onChange:a("email"),type:"email",className:"form-control"})}),Object(h.jsx)("button",{type:"submit",onClick:c,className:"btn btn-primary btn-block mt-4",children:"Submit"})]}),Object(h.jsx)("button",{type:"button",value:V._id,onClick:s,className:"btn btn-dark btn-block mt-4",children:"Change Password"})]})},Q=function(e){var t=e.modalPasswordIsOpen,a=e.setModalPasswordIsOpen,c=e.edituserinfo,s=e.fetchstatus;B.a.setAppElement("#root");var n,i=c._id,l=Object(r.useState)({password:""}),o=Object(p.a)(l,2),O=o[0],m=o[1],x=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=i,e.next=4,E(a,Object(u.a)({},O));case 4:r=e.sent,m(Object(u.a)(Object(u.a)({},O),{},{password:""})),s(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsx)(B.a,{isOpen:t,shouldCloseOnOverlayClick:!1,onRequestClose:function(){return a(!1)},style:{content:{color:"#000000",top:"40%",left:"30%",right:"auto",bottom:"auto",marginRight:"-50%",width:"40%",backgroundColor:"#35a4ba"}},children:Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"input-field col-sm-12 col-lg-12",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter New Password:"}),Object(h.jsx)("input",{value:O.password,onChange:(n="password",function(e){var t=e.target.value;m(Object(u.a)(Object(u.a)({},O),{},Object(b.a)({},n,t)))}),type:"password",className:"form-control",id:"password",placeholder:"Enter New Password",required:!0})]})})}),Object(h.jsx)("button",{className:"btn btn-primary",children:"Submit"}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(!1)},style:{marginLeft:"10px"},children:"Cancel"})]})})})},X=function(e){var t=e.modalEmailIsOpen,a=e.setModalEmailIsOpen,c=e.edituserinfo,s=e.fetchemailstatus;B.a.setAppElement("#root");var n,i=c._id,l=Object(r.useState)({email:""}),o=Object(p.a)(l,2),O=o[0],m=o[1],x=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=i,e.next=4,R(a,Object(u.a)({},O));case 4:r=e.sent,m(Object(u.a)(Object(u.a)({},O),{},{email:""})),s(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsx)(B.a,{isOpen:t,shouldCloseOnOverlayClick:!1,onRequestClose:function(){return a(!1)},style:{content:{color:"#000000",top:"40%",left:"30%",right:"auto",bottom:"auto",marginRight:"-50%",width:"40%",backgroundColor:"#35a4ba"}},children:Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"input-field col-sm-12 col-lg-12",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter New Email:"}),Object(h.jsx)("input",{value:O.email,onChange:(n="email",function(e){var t=e.target.value;m(Object(u.a)(Object(u.a)({},O),{},Object(b.a)({},n,t)))}),type:"email",className:"form-control",id:"email",placeholder:"Enter New Password",required:!0})]})})}),Object(h.jsx)("button",{className:"btn btn-primary",children:"Submit"}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(!1)},style:{marginLeft:"10px"},children:"Cancel"})]})})})},Z=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),n=Object(p.a)(s,2),i=n[0],o=n[1],O=Object(r.useState)({usertype:"",status:"",_id:"",email:""}),m=Object(p.a)(O,2),g=m[0],v=m[1],N=Object(r.useState)([]),y=Object(p.a)(N,2),k=y[0],E=y[1],R=Object(r.useState)(1),A=Object(p.a)(R,2),M=A[0],F=A[1],P=Object(r.useState)(20),D=Object(p.a)(P,1)[0],U=M*D,B=U-D,L=k.slice(B,U),J=Object(r.useState)({email:"",password:"changeMe123!",error:"",createUser:""}),K=Object(p.a)(J,2),H=K[0],z=K[1],$=H.email,V=H.password,Z=H.error,ee=H.createUser,te=function(){T().then((function(e){e.error?console.log(e.error):E(e.users)}))};Object(r.useEffect)((function(){te()}),[]);var ae=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,{usertype:a});case 2:(r=e.sent).error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:r.error})):z(Object(u.a)(Object(u.a)({},H),{},{error:"",createUser:"Access Type Changed"})),te();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r,c,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.value,"Deactivate"!==t.target.innerText){e.next=9;break}return a="deactive",e.next=5,C(r,{status:a});case 5:(c=e.sent).error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:c.error})):z(Object(u.a)(Object(u.a)({},H),{},{error:"",createUser:"Status Changed"})),e.next=22;break;case 9:if("Activate"!==t.target.innerText){e.next=17;break}return a="active",e.next=13,C(r,{status:a});case 13:(s=e.sent).error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:s.error})):z(Object(u.a)(Object(u.a)({},H),{},{error:"",createUser:"Status Changed"})),e.next=22;break;case 17:if("Reset"!==t.target.innerText){e.next=22;break}return e.next=20,C(r,{password:V});case 20:(n=e.sent).error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:n.error})):z(Object(u.a)(Object(u.a)({},H),{},{error:"",createUser:"Password has been reset"}));case 22:te();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),z(Object(u.a)(Object(u.a)({},H),{},{error:""})),e.next=4,S({email:$,password:V});case 4:(a=e.sent).error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:a.error})):z(Object(u.a)(Object(u.a)({},H),{},{error:"",createUser:"Email created"})),te();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentTarget.value,e.next=3,w(a);case 3:(r=e.sent).error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:r.error})):(v(Object(u.a)({},r.users[0])),c(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentTarget.value,e.next=3,w(a);case 3:(r=e.sent).error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:r.error})):(v(Object(u.a)({},r.users[0])),o(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=Object(l.g)(),le=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:ie.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(I,{children:Object(h.jsxs)("div",{className:"main__container",children:[Object(h.jsxs)("div",{className:"main__title",children:[Object(h.jsx)("img",{src:"assets/banner.jpg",alt:""}),Object(h.jsx)("div",{className:"main__greeting",children:Object(h.jsx)("h1",{className:"text-primary-p",children:"Add Users"})})]}),Object(h.jsx)("hr",{className:"main__cards"}),Object(h.jsxs)("div",{className:"charts",children:[Object(h.jsxs)("div",{className:"charts__left",children:[Object(h.jsx)("div",{className:"charts__left__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",style:x()||f()?{display:""}:{display:"none"},children:"Add a User Email"})})}),Object(h.jsxs)("div",{id:"apex1",children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:Z?"":"none"},children:Z}),Object(h.jsx)(G,{createUser:ee}),Object(h.jsx)(Y,{email:$,handleChange:function(e){return function(t){z(Object(u.a)(Object(u.a)({},H),{},Object(b.a)({error:"",createUser:""},e,t.target.value))),te()}},clickSubmit:ce,changeModalstate:se}),Object(h.jsx)(Q,{modalPasswordIsOpen:a,setModalPasswordIsOpen:c,edituserinfo:g,fetchstatus:function(e){e.error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:e.error})):z(Object(u.a)(Object(u.a)({},H),{},{error:"",createUser:"Password  Updated"})),c(!1),le()}}),Object(h.jsx)(X,{modalEmailIsOpen:i,setModalEmailIsOpen:o,edituserinfo:g,fetchemailstatus:function(e){e.error?z(Object(u.a)(Object(u.a)({},H),{},{createUser:"",error:e.error})):z(Object(u.a)(Object(u.a)({},H),{},{error:"",createUser:"Email  Updated"})),o(!1),te()}})]})]}),Object(h.jsxs)("div",{className:"charts__right",children:[Object(h.jsx)("div",{className:"charts__right__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",style:x()?{display:""}:{display:"none"},children:"Manage Users"})})}),Object(h.jsx)(W,{changeaccessStatus:ae,displayusers:L,changeStatus:re,indexOfFirstPost:B,changeModalemail:ne}),Object(h.jsx)(q,{postsPerpage:D,totalPost:k.length,paginate:function(e){F(e)},currentPage:M})]})]})]})})},ee=a(34),te=a.n(ee),ae=function(e){var t=e.msg;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"alert alert-info alert-dismissible fade show",role:"alert",children:[t,Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})},re=function(e){var t=e.percentage;return Object(h.jsx)("div",{className:"progress",children:Object(h.jsxs)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"".concat(t,"%")},children:[t,"%"]})})},ce=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)("Choose File"),n=Object(p.a)(s,2),i=n[0],l=n[1],o=Object(r.useState)({}),b=Object(p.a)(o,2),u=b[0],O=b[1],m=Object(r.useState)(""),x=Object(p.a)(m,2),f=x[0],g=x[1],N=Object(r.useState)(0),y=Object(p.a)(N,2),_=y[0],S=y[1],T=function(){var e=Object(j.a)(d.a.mark((function e(t){var r,c,s,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(r=new FormData).append("file",a),e.prev=3,e.next=6,te.a.post("".concat(v,"/upload"),r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){S(Math.round(100*e.loaded/e.total)),setTimeout((function(){return S(0)}),1e4)}});case 6:c=e.sent,s=c.data,n=s.fileName,i=s.filePath,O({fileName:n,filePath:i}),g("File uploaded"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),500===e.t0.response.status?g("there was a problem with the  server"):g(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(r.Fragment,{children:[f?Object(h.jsx)(ae,{msg:f}):null,Object(h.jsxs)("form",{onSubmit:T,children:[Object(h.jsxs)("div",{className:"custom-file mb-4",children:[Object(h.jsx)("input",{onChange:function(e){l(e.target.files[0].name),c(e.target.files[0])},type:"file",className:"custom-file-input",id:"customFile"}),Object(h.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:i})]}),Object(h.jsx)(re,{percentage:_}),Object(h.jsx)("input",{type:"submit",value:"Upload",className:"btn btn-primary btn-block mt-4"})]}),u?Object(h.jsx)("div",{className:"row mt-5",children:Object(h.jsx)("div",{className:"col-md-6 m-auto",children:Object(h.jsx)("h3",{})})}):null]})},se=function(e){var t=e.Tranformerstats,a=e.Feederstats,r=e.Districtstats,c=e.handleChange,s=e.values,n=e.clickSubmit,i=s.MARKETER_NAME,l=s.STAFF_ID,o=s.marketer_phone,d=(s.bill_type,s.arrears),j=s.paid_amt,b=s.billed_amt,u=s.paid_pop,p=s.billed_pop;s.transformer_code,s.transformer,s.feeder_code,s.feeder,s.district,s.cust_category,s.connectiontype;return Object(h.jsxs)("form",{onSubmit:n,children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"MARKETER NAME:"}),Object(h.jsx)("input",{onChange:c("MARKETER_NAME"),type:"text",value:i,className:"form-control",required:!0})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"STAFF ID:"}),Object(h.jsx)("input",{onChange:c("STAFF_ID"),value:l,type:"text",className:"form-control",required:!0})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:" Marketer Phone:"}),Object(h.jsx)("input",{onChange:c("marketer_phone"),value:o,type:"phone",className:"form-control",required:!0})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Bill Type:"}),Object(h.jsxs)("select",{onChange:c("bill_type"),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),Object(h.jsx)("option",{value:"NMD Meter Reading",children:"NMD Meter Reading"}),Object(h.jsx)("option",{value:"STORED_AVG",children:"STORED_AVG"}),Object(h.jsx)("option",{value:"DT Meter Reading",children:"DT Meter Reading"}),Object(h.jsx)("option",{value:"Unmetered",children:"Unmetered"}),Object(h.jsx)("option",{value:"Metered Bulk Reading",children:"Metered Bulk Reading"}),Object(h.jsx)("option",{value:"MD Meter Reading",children:"MD Meter Reading"}),Object(h.jsx)("option",{value:"CAP Fix",children:"CAP Fix"})]})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:" Arrears:"}),Object(h.jsx)("input",{onChange:c("arrears"),value:d,type:"number",className:"form-control",required:!0})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:" Paid Amount:"}),Object(h.jsx)("input",{onChange:c("paid_amt"),value:j,type:"number",className:"form-control",required:!0})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:" Billed Amount:"}),Object(h.jsx)("input",{onChange:c("billed_amt"),value:b,type:"number",className:"form-control",required:!0})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:" Paid POP:"}),Object(h.jsx)("input",{onChange:c("paid_pop"),value:u,type:"number",className:"form-control",required:!0})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:" Billed POP:"}),Object(h.jsx)("input",{onChange:c("billed_pop"),value:p,type:"number",className:"form-control",required:!0})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Connection Type:"}),Object(h.jsxs)("select",{onChange:c("connectiontype"),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),Object(h.jsx)("option",{value:"Metered",children:"Metered"}),Object(h.jsx)("option",{value:"Unmetered",children:"Unmetered"})]})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Customer Category:"}),Object(h.jsxs)("select",{onChange:c("cust_category"),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),Object(h.jsx)("option",{value:"MD",children:"MD"}),Object(h.jsx)("option",{value:"NON-MD",children:"NON-MD"})]})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"District:"}),Object(h.jsxs)("select",{onChange:c("district"),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),r.map((function(e,t){return Object(h.jsx)("option",{value:e._id,children:e._id},t)}))]})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Feeder:"}),Object(h.jsxs)("select",{onChange:c("feeder"),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),a.map((function(e,t){return Object(h.jsx)("option",{value:e._id,children:e._id},t)}))]})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Feeder Code:"}),Object(h.jsxs)("select",{onChange:c("feeder_code"),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),a.map((function(e,t){return Object(h.jsx)("option",{value:e.feeder_code,children:e.feeder_code},t)}))]})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Transformer:"}),Object(h.jsxs)("select",{onChange:c("transformer"),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),t.map((function(e,t){return Object(h.jsx)("option",{value:e._id,children:e._id},t)}))]})]})}),Object(h.jsx)("div",{className:"input-field col-sm-6 col-lg-4",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Transformer Code:"}),Object(h.jsxs)("select",{onChange:c("transformer_code"),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),t.map((function(e,t){return Object(h.jsx)("option",{value:e.transformer_code,children:e.transformer_code},t)}))]})]})})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mt-4",children:"Submit"})]})},ne=function(){var e=Object(r.useState)({Districtstats:[],Tranformerstats:[],Feederstats:[]}),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),n=Object(p.a)(s,2),i=n[0],l=n[1],o=Object(r.useState)({MARKETER_NAME:"",STAFF_ID:"",marketer_phone:"",bill_type:"",arrears:"",paid_amt:"",billed_amt:"",paid_pop:"",billed_pop:"",transformer_code:"",transformer:"",feeder_code:"",feeder:"",district:"",cust_category:"",connectiontype:""}),O=Object(p.a)(o,2),m=O[0],x=O[1],f=a.Districtstats,g=a.Tranformerstats,v=a.Feederstats,N=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:(t=e.sent).error?l(t.error):c(Object(u.a)(Object(u.a)({},a),{},{Feederstats:t.Feederstats,Districtstats:t.Districtstats,Tranformerstats:t.Tranformerstats}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){N()}),[]);return Object(h.jsx)(I,{children:Object(h.jsxs)("div",{className:"main__container",children:[Object(h.jsxs)("div",{className:"main__title",children:[Object(h.jsx)("img",{src:"assets/banner.jpg",alt:""}),Object(h.jsx)("div",{className:"main__greeting",children:Object(h.jsx)("h1",{className:"text-primary-p",children:"Profile"})})]}),Object(h.jsx)("hr",{className:"main__cards"}),Object(h.jsxs)("div",{className:"charts",children:[Object(h.jsxs)("div",{className:"charts__left",children:[Object(h.jsx)("div",{className:"charts__left__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Upload Your Excel Sheet"})})}),Object(h.jsx)("div",{id:"apex1",children:Object(h.jsx)(ce,{})})]}),Object(h.jsxs)("div",{className:"charts__right",children:[Object(h.jsx)("div",{className:"charts__right__title",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"text-title",children:"Allocate Manually"}),i?Object(h.jsx)(ae,{msg:i}):null]})}),Object(h.jsx)(se,{Tranformerstats:g,Feederstats:v,Districtstats:f,handleChange:function(e){return function(t){var a=t.target.value;x(Object(u.a)(Object(u.a)({},m),{},Object(b.a)({},e,a)))}},values:m,clickSubmit:function(e){e.preventDefault(),A(Object(u.a)({},m)).then((function(e){e.error?l(e.error):(x(Object(u.a)(Object(u.a)({},m),{},{MARKETER_NAME:"",STAFF_ID:"",marketer_phone:"",arrears:"",paid_amt:"",billed_amt:"",paid_pop:"",billed_pop:""})),l("Record created successfully"))}))}})]})]})]})})},ie=a(35),le=function(e){var t=e.component,a=Object(ie.a)(e,["component"]);return Object(h.jsx)(l.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return localStorage.getItem("usersign")&&JSON.parse(localStorage.getItem("usersign")||"{}")?Object(h.jsx)(t,Object(u.a)({},e)):Object(h.jsx)(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))},oe=function(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"/",exact:!0,component:M}),Object(h.jsx)(le,{path:"/dashboard",exact:!0,component:K}),Object(h.jsx)(le,{path:"/manageallocations",exact:!0,component:$}),Object(h.jsx)(le,{path:"/allocate",exact:!0,component:ne}),Object(h.jsx)(le,{path:"/users",exact:!0,component:Z})]})})};n.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(oe,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.b6296df1.chunk.js.map