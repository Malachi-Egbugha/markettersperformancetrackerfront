(this.webpackJsonpcmsfront=this.webpackJsonpcmsfront||[]).push([[0],{40:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),s=a(17),n=a.n(s),i=(a(40),a(7)),o=a(6),l=a(3),j=a.n(l),d=a(5),b=a(10),u=a(2),p=a(4),h=a(0),O=function(e){var t=e.className,a=e.children;return Object(h.jsx)("div",{className:t,children:a})},m=function(e,t){return e.location.pathname===t},x=function(){return"superadmin"===JSON.parse(localStorage.getItem("usersign")||"{}").user.usertype},f="http://localhost:8080",v=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Headers,a=JSON.parse(localStorage.getItem("usersign")||"{}"),c=a.token,t.append("Accept","application/json"),t.append("Content-Type","application/json"),t.append("authorization","Bearer: ".concat(c)),e.prev=5,e.next=8,fetch("".concat(f,"/read"),{method:"POST",headers:t});case 8:return r=e.sent,e.abrupt("return",r.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(f,"/api/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){if("undefined"!==typeof window)return localStorage.removeItem("usersign"),fetch("".concat(f,"/api/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))},y=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Headers,c=JSON.parse(localStorage.getItem("usersign")||"{}"),r=c.token,a.append("Accept","application/json"),a.append("Content-Type","application/json"),a.append("authorization","Bearer: ".concat(r)),e.abrupt("return",fetch("".concat(f,"/api/signup"),{method:"POST",headers:a,body:JSON.stringify(t)}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.log(e)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Headers,a=JSON.parse(localStorage.getItem("usersign")||"{}"),c=a.token,t.append("Accept","application/json"),t.append("Content-Type","application/json"),t.append("authorization","Bearer: ".concat(c)),e.abrupt("return",fetch("".concat(f,"/user/read"),{method:"POST",headers:t}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.log(e)})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(j.a.mark((function e(t,a){var c,r,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Headers,r=JSON.parse(localStorage.getItem("usersign")||"{}"),s=r.token,c.append("Accept","application/json"),c.append("Content-Type","application/json"),c.append("authorization","Bearer: ".concat(s)),e.prev=5,e.next=8,fetch("".concat(f,"/user/updateuser/").concat(t),{method:"PUT",headers:c,body:JSON.stringify(a)});case 8:return n=e.sent,e.abrupt("return",n.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Headers,a=JSON.parse(localStorage.getItem("usersign")||"{}"),c=a.token,t.append("Accept","application/json"),t.append("Content-Type","application/json"),t.append("authorization","Bearer: ".concat(c)),e.prev=5,e.next=8,fetch("".concat(f,"/stats"),{method:"POST",headers:t});case 8:return r=e.sent,e.abrupt("return",r.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("usersign")||"{}"),c=a.token,e.prev=1,e.next=4,fetch("".concat(f,"/user/finduser/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer: ".concat(c)}});case 4:return r=e.sent,e.abrupt("return",r.json());case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(j.a.mark((function e(t,a){var c,r,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Headers,r=JSON.parse(localStorage.getItem("usersign")||"{}"),s=r.token,c.append("Accept","application/json"),c.append("Content-Type","application/json"),c.append("authorization","Bearer: ".concat(s)),e.prev=5,e.next=8,fetch("".concat(f,"/user/updatedetail/").concat(t),{method:"PUT",headers:c,body:JSON.stringify(a)});case 8:return n=e.sent,e.abrupt("return",n.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(j.a.mark((function e(t,a){var c,r,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Headers,r=JSON.parse(localStorage.getItem("usersign")||"{}"),s=r.token,c.append("Accept","application/json"),c.append("Content-Type","application/json"),c.append("authorization","Bearer: ".concat(s)),e.prev=5,e.next=8,fetch("".concat(f,"/user/updateemail/").concat(t),{method:"PUT",headers:c,body:JSON.stringify(a)});case 8:return n=e.sent,e.abrupt("return",n.json());case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}(),P=(a(43),function(){var e=Object(c.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(p.a)(e,2),a=t[0],r=t[1],s=a.email,n=a.password,i=a.error,l=a.loading,m=a.redirectToReferrer,x=function(e){return function(t){r(Object(u.a)(Object(u.a)({},a),{},Object(b.a)({error:""},e,t.target.value)))}},f=function(){var e=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i),t.preventDefault(),r(Object(u.a)(Object(u.a)({},a),{},{error:"",loading:!0})),e.next=5,g({email:s,password:n});case 5:(c=e.sent).error?r(Object(u.a)(Object(u.a)({},a),{},{error:c.error,loading:!1})):(o=c,l=function(){r(Object(u.a)(Object(u.a)({},a),{},{redirectToReferrer:!0}))},localStorage.setItem("usersign",JSON.stringify(o)),l());case 7:case"end":return e.stop()}var o,l}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(O,{className:"outerdiv",children:Object(h.jsx)("div",{className:"loginbanner",children:Object(h.jsxs)("div",{className:"card",style:{textAlign:"left"},children:[Object(h.jsx)("div",{className:"card-header",style:{backgroundColor:"#265acc"},children:"LOGIN"}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:i?"":"none"},children:i}),l&&Object(h.jsxs)("div",{className:"spinning",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]}),function(){if(m)return Object(h.jsx)(o.a,{to:"/dashboard"})}(),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"text-mute text-primary-p",style:{color:"#000000"},children:"Email:"}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("i",{className:"fa fa-envelope icon"}),Object(h.jsx)("input",{value:s,onChange:x("email"),type:"email",className:"input-field"})]})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"text-mute text-primary-p",style:{color:"#000000"},children:"Password:"}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("i",{className:"fa fa-key icon"}),Object(h.jsx)("input",{onChange:x("password"),value:n,type:"password",className:"input-field"})]})]}),Object(h.jsx)("button",{type:"submit",onClick:f,className:"btn btn-primary",style:{backgroundColor:"#265acc",width:"100%"},children:"LOGIN"})]})]})]})})})}),E=Object(o.h)((function(e){var t=e.history,a=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("sidebar").classList.add("sidebar_responsive");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("div",{className:"nav_icon",onClick:a,children:Object(h.jsx)("i",{className:"fa fa-bars"})}),Object(h.jsx)("div",{className:"navbar__left",children:Object(h.jsxs)("span",{onClick:function(){return c()},className:"nav-link",style:{cursor:"pointer",color:"red"},children:[Object(h.jsx)("i",{className:"fa fa-power-off"}),"Log out"]})}),Object(h.jsx)("div",{children:Object(h.jsx)("h2",{className:"font-bold",children:"MARKETERS PERFORMANCE TRACKER"})}),Object(h.jsxs)("div",{className:"navbar__right",children:[Object(h.jsx)(i.b,{to:"#",children:Object(h.jsx)("i",{className:"fa fa-search"})}),Object(h.jsx)(i.b,{to:"#",children:Object(h.jsx)("i",{className:"fa fa-clock-o"})}),Object(h.jsx)(i.b,{to:"#"})]})]})})),A=a.p+"static/media/logo.8a3cb3a3.png",U=function(){var e=Object(o.g)(),t=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("sidebar").classList.remove("sidebar_responsive");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{id:"sidebar",children:[Object(h.jsxs)("div",{className:"sidebar__title",children:[Object(h.jsx)("div",{className:"sidebar__img"}),Object(h.jsx)("i",{className:"fa fa-times",id:"sidebarIcon",onClick:t})]}),Object(h.jsx)("div",{style:{display:"flex",backgroundColor:"#ffffff",justifyContent:"center"},children:Object(h.jsx)("img",{style:{width:"100px",borderRadius:"30%",background:"#fff",marginBottom:"50px",marginTop:"30px"},src:A,alt:""})}),Object(h.jsxs)("div",{className:"sidebar__menu",children:[Object(h.jsxs)("div",{className:m(e,"/dashboard")?"sidebar__link active_menu_link":"sidebar__link",children:[Object(h.jsx)("i",{className:"fa fa-home"}),Object(h.jsx)(i.b,{to:"/dashboard",children:"Dashboard"})]}),Object(h.jsx)("h2",{children:"ALLOCATION"}),Object(h.jsxs)("div",{className:m(e,"/allocate")?"sidebar__link active_menu_link":"sidebar__link",children:[Object(h.jsx)("i",{className:"fab fa-acquisitions-incorporated"}),Object(h.jsx)(i.b,{to:"/allocate",children:"Upload Data"})]}),Object(h.jsxs)("div",{className:m(e,"/manageallocations")?"sidebar__link active_menu_link":"sidebar__link",children:[Object(h.jsx)("i",{className:"fas fa-bullseye"}),Object(h.jsx)(i.b,{to:"/manageallocations",children:"Performance Summary"})]}),Object(h.jsx)("h2",{children:"Manage Users"}),Object(h.jsxs)("div",{className:m(e,"/users")?"sidebar__link active_menu_link":"sidebar__link",children:[Object(h.jsx)("i",{className:"fa fa-handshake-o"}),Object(h.jsx)(i.b,{to:"/users",children:"Manage Users"})]})]})]})},I=(a(49),function(e){var t=e.children;return Object(h.jsxs)("div",{className:"contain",children:[Object(h.jsx)(E,{}),Object(h.jsx)("main",{children:t}),Object(h.jsx)(U,{})]})}),F=a(12),R=a.n(F),M=function(e){var t=e.info,a=e.modalIsOpen,r=e.setModalIsOpen,s=e.intype;R.a.setAppElement("#root");var n=Object(c.useState)([]),i=Object(p.a)(n,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){l(t)}),[t]),Object(h.jsx)("div",{children:Object(h.jsxs)(R.a,{isOpen:a,shouldCloseOnOverlayClick:!1,onRequestClose:function(){return r(!1)},style:{overlay:{backgroundColor:"#000000"},content:{color:"#000000"}},children:[Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)("h2",{className:"font-bold",children:"PERFORMANCE BY ".concat(s)}),Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"S/N"}),Object(h.jsx)("th",{scope:"col"}),Object(h.jsx)("th",{scope:"col"}),Object(h.jsx)("th",{scope:"col",children:s}),Object(h.jsx)("th",{scope:"col",children:"PERFORMANCE"})]})}),Object(h.jsx)("tbody",{children:o.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{}),Object(h.jsx)("td",{}),Object(h.jsx)("td",{children:e._id}),Object(h.jsx)("td",{children:Math.ceil(e.totalpaidpop/e.totalbilledpop*100)+"%"})]},t)}))})]})]}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return r(!1)},style:{marginLeft:"10px"},children:"Cancel"})]})})},D=function(){var e=Object(c.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)([]),n=Object(p.a)(s,2),i=n[0],o=n[1],l=Object(c.useState)(""),b=Object(p.a)(l,2),O=b[0],m=b[1],x=Object(c.useState)({totalPerformance:"",totalTransformers:"",totalFeeders:"",totalDistricts:"",Districtstats:[],Tranformerstats:[],Feederstats:[],Totalpaidpop:"",Totalbillpop:"",Totalbillamt:0}),f=Object(p.a)(x,2),v=f[0],g=f[1],N=v.totalPerformance,y=v.totalTransformers,_=v.totalFeeders,w=v.totalDistricts,k=v.Districtstats,C=v.Tranformerstats,T=v.Feederstats,P=v.Totalpaidpop,E=v.Totalbillpop,A=v.Totalbillamt,U=Object(c.useState)(""),F=Object(p.a)(U,2),R=F[0],D=F[1],B=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:(t=e.sent).error?D(t.error):g(Object(u.a)(Object(u.a)({},v),{},{totalPerformance:t.totalPerformance,totalTransformers:t.totalTransformers,totalFeeders:t.totalFeeders,totalDistricts:t.totalDistricts,Feederstats:t.Feederstats,Districtstats:t.Districtstats,Tranformerstats:t.Tranformerstats,Totalpaidpop:t.Totalstats[0].totalpaidpop+t.Totalstats[1].totalpaidpop,Totalbillpop:t.Totalstats[0].totalbilledpop+t.Totalstats[1].totalbilledpop,Totalbillamt:Number(t.Totalstats[0].totalbilledamt)+Number(t.Totalstats[1].totalbilledamt)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e,t){o(e),m(t),r(!0)};Object(c.useEffect)((function(){B()}),[]);return Object(h.jsx)(I,{children:Object(h.jsxs)("div",{className:"main__container",children:[Object(h.jsxs)("div",{className:"main__title",children:[Object(h.jsx)("img",{src:"assets/banner.jpg",alt:""}),Object(h.jsx)("div",{className:"main__greeting",children:Object(h.jsx)("h1",{className:"text-primary-p",children:"DASHBOARD"})})]}),Object(h.jsx)("hr",{className:"main__cards"}),Object(h.jsx)("div",{className:"alert alert-danger",style:{display:R?"":"none"},children:R}),Object(h.jsxs)("div",{className:"charts",children:[Object(h.jsxs)("div",{className:"charts__left",children:[Object(h.jsx)("div",{className:"charts__left__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Summary"})})}),Object(h.jsxs)("div",{id:"apex1",children:[Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Billed Amount"}),Object(h.jsx)("p",{children:A.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")})]}),Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Billed PoP"}),Object(h.jsx)("p",{children:E.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]}),Object(h.jsxs)("div",{className:"card4",style:{padding:"2px",backgroundColor:"#fff"},children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Paid Pop"}),Object(h.jsx)("p",{children:P.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})]})]}),Object(h.jsxs)("div",{className:"charts__right",children:[Object(h.jsx)("div",{className:"charts__right__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Summary Data"})})}),Object(h.jsxs)("div",{className:"charts__right__cards",children:[Object(h.jsxs)("div",{className:"card1",children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Number of Records"}),Object(h.jsx)("p",{children:N.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]}),Object(h.jsx)("button",{onClick:function(){return J(k,"DISTRICTS")},children:Object(h.jsxs)("div",{className:"card2",children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Number of Districts"}),Object(h.jsx)("p",{children:w.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})}),Object(h.jsx)("button",{onClick:function(){return J(T,"FEEDERS")},children:Object(h.jsxs)("div",{className:"card3",children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Number of Feeders"}),Object(h.jsx)("p",{children:_.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})}),Object(h.jsx)("button",{onClick:function(){return J(C,"TRANSFORMERS")},children:Object(h.jsxs)("div",{className:"card4",children:[Object(h.jsx)("h1",{className:"text-lightblue",children:"Total Number of Transformers"}),Object(h.jsx)("p",{children:y.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})})]})]})]}),Object(h.jsx)(M,{modalIsOpen:a,setModalIsOpen:r,info:i,intype:O})]})})},B=function(e){var t=e.allocations,a=e.indexOfFirstPost;return Object(h.jsxs)("div",{children:[console.log(t),Object(h.jsxs)("table",{className:"table table-striped",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col"}),Object(h.jsx)("th",{scope:"col",children:"connectiontype"}),Object(h.jsx)("th",{scope:"col",children:"cust_category"}),Object(h.jsx)("th",{scope:"col",children:"district"}),Object(h.jsx)("th",{scope:"col",children:"feeder"}),Object(h.jsx)("th",{scope:"col",children:"feeder_code"}),Object(h.jsx)("th",{scope:"col",children:"transformer"}),Object(h.jsx)("th",{scope:"col",children:"transformer_code"}),Object(h.jsx)("th",{scope:"col",children:"billed_pop"}),Object(h.jsx)("th",{scope:"col",children:"paid_pop"}),Object(h.jsx)("th",{scope:"col",children:"CC"}),Object(h.jsx)("th",{scope:"col",children:"billed_amt"}),Object(h.jsx)("th",{scope:"col",children:"paid_amt"}),Object(h.jsx)("th",{scope:"col",children:"CE"}),Object(h.jsx)("th",{scope:"col",children:"arrears"}),Object(h.jsx)("th",{scope:"col",children:"bill_type"}),Object(h.jsx)("th",{scope:"col",children:"MARKETER_NAME"}),Object(h.jsx)("th",{scope:"col",children:"STAFF_ID"}),Object(h.jsx)("th",{scope:"col",children:"marketer_phone"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:a+=1}),Object(h.jsx)("td",{children:e.connectiontype}),Object(h.jsx)("td",{children:e.cust_category}),Object(h.jsx)("td",{children:e.district}),Object(h.jsx)("td",{children:e.feeder}),Object(h.jsx)("td",{children:e.feeder_code}),Object(h.jsx)("td",{children:e.transformer}),Object(h.jsx)("td",{children:e.transformer_code}),Object(h.jsx)("td",{children:e.billed_pop}),Object(h.jsx)("td",{children:e.paid_pop}),Object(h.jsx)("td",{children:Math.ceil(e.paid_pop/e.billed_pop*100)+"%"}),Object(h.jsx)("td",{children:Number(e.billed_amt).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}),Object(h.jsx)("td",{children:Number(e.paid_amt).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}),Object(h.jsx)("td",{children:Math.ceil(Number(e.paid_amt)/Number(e.billed_amt)*100)+"%"}),Object(h.jsx)("td",{children:e.arrears.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}),Object(h.jsx)("td",{children:e.bill_type}),Object(h.jsx)("td",{children:e.MARKETER_NAME}),Object(h.jsx)("td",{children:e.STAFF_ID}),Object(h.jsx)("td",{children:"0".concat(e.marketer_phone)})]},t)}))})]})]})},J=function(e){for(var t=e.postsPerpage,a=e.totalPost,c=e.paginate,r=e.currentPage,s=[],n=1;n<=Math.ceil(a/t);n++)s.push(n);return Object(h.jsx)("nav",{id:"pagination",children:Object(h.jsx)("ul",{className:"pagination",children:s.map((function(e){return Object(h.jsx)("li",{className:"page-item",style:{backgroundColor:"#DA251C",marginRight:"0.6rem"},children:Object(h.jsx)("a",{onClick:function(){return c(e)},href:"#",className:"page-link",style:r===e?{color:"#ffffff",backgroundColor:"#DA251C",borderRadius:"50%"}:{color:"#ffffff",backgroundColor:"#265acc",borderRadius:"50%"},children:e})},e)}))})})},L=function(){var e=Object(c.useState)(1),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(500),n=Object(p.a)(s,1)[0],i=Object(c.useState)([]),o=Object(p.a)(i,2),l=o[0],b=o[1],u=Object(c.useState)(""),O=Object(p.a)(u,2),m=O[0],x=O[1],f=a*n,g=f-n,N=l.slice(g,f),y=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:(t=e.sent).error?x(t.error):b(t.ourPerformance);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){y()}),[]);return Object(h.jsx)(I,{children:Object(h.jsxs)("div",{className:"main__container",children:[Object(h.jsxs)("div",{className:"main__title",children:[Object(h.jsx)("img",{src:"assets/banner.jpg",alt:""}),Object(h.jsx)("div",{className:"main__greeting",children:Object(h.jsx)("h1",{className:"text-primary-p",children:"Manage Allocations"})})]}),Object(h.jsx)("hr",{className:"main__cards"}),Object(h.jsx)("div",{className:"alert alert-danger",style:{display:m?"":"none"},children:m}),Object(h.jsx)(B,{allocations:N,indexOfFirstPost:g}),Object(h.jsx)(J,{postsPerpage:n,totalPost:l.length,paginate:function(e){r(e)},currentPage:a})]})})},z=function(e){var t=e.createUser;return Object(h.jsx)("div",{children:t&&Object(h.jsx)("div",{className:"alert alert-info",children:Object(h.jsxs)("h2",{children:[" ","".concat(t)]})})})},H=function(e){var t=e.displayusers,a=e.changeStatus,r=e.changeaccessStatus,s=e.indexOfFirstPost,n=e.changeModalemail,i=Object(c.useState)({error:"",createUser:"",usertype:""}),o=Object(p.a)(i,2),l=o[0],j=o[1];return Object(h.jsx)(c.Fragment,{children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col"}),Object(h.jsx)("th",{scope:"col",children:"Email"}),Object(h.jsx)("th",{scope:"col",children:"Update Status"}),Object(h.jsx)("th",{scope:"col",children:"ResetPassword"}),Object(h.jsx)("th",{scope:"col",children:"Change Email"}),Object(h.jsx)("th",{scope:"col",children:"Change Access Type"}),Object(h.jsx)("th",{scope:"col",children:"Access Type"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:s+=1}),Object(h.jsx)("td",{children:e.email}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{style:x()?{display:""}:{display:"none"},onClick:a,value:e._id,type:"button",className:"active"===e.status?"btn btn-danger":"btn btn-success",children:"active"===e.status?"Deactivate":"Activate"})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{style:x()?{display:""}:{display:"none"},onClick:a,value:e._id,type:"button",className:"btn btn-success",children:"Reset"})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{style:x()?{display:""}:{display:"none"},onClick:n,value:e._id,type:"button",className:"btn btn-dark",children:Object(h.jsx)("i",{className:"fas fa-users-cog"})})}),Object(h.jsx)("td",{style:x()?{display:""}:{display:"none"},children:Object(h.jsx)("form",{children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsxs)("select",{datatype:e._id,onChange:(c="usertype",function(e){var t=e.target.getAttribute("datatype");j(Object(u.a)(Object(u.a)({},l),{},Object(b.a)({error:"",createUser:""},c,e.target.value))),r(t,e.target.value)}),className:"form-control",required:!0,children:[Object(h.jsx)("option",{children:"Please Select"}),Object(h.jsx)("option",{value:"superadmin",children:"Super Admin"}),Object(h.jsx)("option",{value:"admin",children:"Admin"})]}),Object(h.jsx)("input",{value:e._id,type:"hidden"})]})})}),Object(h.jsx)("td",{children:e.usertype})]},t);var c}))})]})})},q=JSON.parse(localStorage.getItem("usersign")||"{}").user,K=function(e){var t=e.email,a=e.handleChange,r=e.clickSubmit,s=e.changeModalstate;return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{value:t,onChange:a("email"),type:"email",className:"form-control"})}),Object(h.jsx)("button",{type:"submit",onClick:r,className:"btn btn-primary btn-block mt-4",children:"Submit"})]}),Object(h.jsx)("button",{type:"button",value:q._id,onClick:s,className:"btn btn-dark btn-block mt-4",children:"Change Password"})]})},$=function(e){var t=e.modalPasswordIsOpen,a=e.setModalPasswordIsOpen,r=e.edituserinfo,s=e.fetchstatus;R.a.setAppElement("#root");var n,i=r._id,o=Object(c.useState)({password:""}),l=Object(p.a)(o,2),O=l[0],m=l[1],x=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=i,e.next=4,C(a,Object(u.a)({},O));case 4:c=e.sent,m(Object(u.a)(Object(u.a)({},O),{},{password:""})),s(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsx)(R.a,{isOpen:t,shouldCloseOnOverlayClick:!1,onRequestClose:function(){return a(!1)},style:{content:{color:"#000000",top:"40%",left:"30%",right:"auto",bottom:"auto",marginRight:"-50%",width:"40%",backgroundColor:"#35a4ba"}},children:Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"input-field col-sm-12 col-lg-12",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter New Password:"}),Object(h.jsx)("input",{value:O.password,onChange:(n="password",function(e){var t=e.target.value;m(Object(u.a)(Object(u.a)({},O),{},Object(b.a)({},n,t)))}),type:"password",className:"form-control",id:"password",placeholder:"Enter New Password",required:!0})]})})}),Object(h.jsx)("button",{className:"btn btn-primary",children:"Submit"}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(!1)},style:{marginLeft:"10px"},children:"Cancel"})]})})})},G=function(e){var t=e.modalEmailIsOpen,a=e.setModalEmailIsOpen,r=e.edituserinfo,s=e.fetchemailstatus;R.a.setAppElement("#root");var n,i=r._id,o=Object(c.useState)({email:""}),l=Object(p.a)(o,2),O=l[0],m=l[1],x=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=i,e.next=4,T(a,Object(u.a)({},O));case 4:c=e.sent,m(Object(u.a)(Object(u.a)({},O),{},{email:""})),s(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsx)(R.a,{isOpen:t,shouldCloseOnOverlayClick:!1,onRequestClose:function(){return a(!1)},style:{content:{color:"#000000",top:"40%",left:"30%",right:"auto",bottom:"auto",marginRight:"-50%",width:"40%",backgroundColor:"#35a4ba"}},children:Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"input-field col-sm-12 col-lg-12",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter New Email:"}),Object(h.jsx)("input",{value:O.email,onChange:(n="email",function(e){var t=e.target.value;m(Object(u.a)(Object(u.a)({},O),{},Object(b.a)({},n,t)))}),type:"email",className:"form-control",id:"email",placeholder:"Enter New Password",required:!0})]})})}),Object(h.jsx)("button",{className:"btn btn-primary",children:"Submit"}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(!1)},style:{marginLeft:"10px"},children:"Cancel"})]})})})},Y=function(){var e=Object(c.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!1),n=Object(p.a)(s,2),i=n[0],l=n[1],O=Object(c.useState)({usertype:"",status:"",_id:"",email:""}),m=Object(p.a)(O,2),x=m[0],f=m[1],v=Object(c.useState)([]),g=Object(p.a)(v,2),S=g[0],C=g[1],T=Object(c.useState)(1),P=Object(p.a)(T,2),E=P[0],A=P[1],U=Object(c.useState)(1),F=Object(p.a)(U,1)[0],R=E*F,M=R-F,D=S.slice(M,R),B=Object(c.useState)({email:"",password:"eedc01",error:"",createUser:""}),L=Object(p.a)(B,2),q=L[0],Y=L[1],Q=q.email,V=q.password,W=q.error,X=q.createUser,Z=function(){_().then((function(e){e.error?console.log(e.error):C(e.users)}))};Object(c.useEffect)((function(){Z()}),[]);var ee=function(){var e=Object(d.a)(j.a.mark((function e(t,a){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,{usertype:a});case 2:(c=e.sent).error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:c.error})):Y(Object(u.a)(Object(u.a)({},q),{},{error:"",createUser:"Access Type Changed"})),Z();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c,r,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.target.value,"Deactivate"!==t.target.innerText){e.next=9;break}return a="deactive",e.next=5,w(c,{status:a});case 5:(r=e.sent).error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:r.error})):Y(Object(u.a)(Object(u.a)({},q),{},{error:"",createUser:"Status Changed"})),e.next=22;break;case 9:if("Activate"!==t.target.innerText){e.next=17;break}return a="active",e.next=13,w(c,{status:a});case 13:(s=e.sent).error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:s.error})):Y(Object(u.a)(Object(u.a)({},q),{},{error:"",createUser:"Status Changed"})),e.next=22;break;case 17:if("Reset"!==t.target.innerText){e.next=22;break}return e.next=20,w(c,{password:V});case 20:(n=e.sent).error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:n.error})):Y(Object(u.a)(Object(u.a)({},q),{},{error:"",createUser:"Password has been reset"}));case 22:Z();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Y(Object(u.a)(Object(u.a)({},q),{},{error:""})),e.next=4,y({email:Q,password:V});case 4:(a=e.sent).error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:a.error})):Y(Object(u.a)(Object(u.a)({},q),{},{error:"",createUser:"Email created"})),Z();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentTarget.value,e.next=3,k(a);case 3:(c=e.sent).error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:c.error})):(f(Object(u.a)({},c.users[0])),r(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentTarget.value,e.next=3,k(a);case 3:(c=e.sent).error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:c.error})):(f(Object(u.a)({},c.users[0])),l(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=Object(o.g)(),ne=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:se.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)(I,{children:Object(h.jsxs)("div",{className:"main__container",children:[Object(h.jsxs)("div",{className:"main__title",children:[Object(h.jsx)("img",{src:"assets/banner.jpg",alt:""}),Object(h.jsx)("div",{className:"main__greeting",children:Object(h.jsx)("h1",{className:"text-primary-p",children:"Add Users"})})]}),Object(h.jsx)("hr",{className:"main__cards"}),Object(h.jsxs)("div",{className:"charts",children:[Object(h.jsxs)("div",{className:"charts__left",children:[Object(h.jsx)("div",{className:"charts__left__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Add a User Email"})})}),Object(h.jsxs)("div",{id:"apex1",children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:W?"":"none"},children:W}),Object(h.jsx)(z,{createUser:X}),Object(h.jsx)(K,{email:Q,handleChange:function(e){return function(t){Y(Object(u.a)(Object(u.a)({},q),{},Object(b.a)({error:"",createUser:""},e,t.target.value))),Z()}},clickSubmit:ae,changeModalstate:ce}),Object(h.jsx)($,{modalPasswordIsOpen:a,setModalPasswordIsOpen:r,edituserinfo:x,fetchstatus:function(e){e.error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:e.error})):Y(Object(u.a)(Object(u.a)({},q),{},{error:"",createUser:"Password  Updated"})),r(!1),ne()}}),Object(h.jsx)(G,{modalEmailIsOpen:i,setModalEmailIsOpen:l,edituserinfo:x,fetchemailstatus:function(e){e.error?Y(Object(u.a)(Object(u.a)({},q),{},{createUser:"",error:e.error})):Y(Object(u.a)(Object(u.a)({},q),{},{error:"",createUser:"Email  Updated"})),l(!1),Z()}})]})]}),Object(h.jsxs)("div",{className:"charts__right",children:[Object(h.jsx)("div",{className:"charts__right__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Manage Users"})})}),Object(h.jsx)(H,{changeaccessStatus:ee,displayusers:D,changeStatus:te,indexOfFirstPost:M,changeModalemail:re}),Object(h.jsx)(J,{postsPerpage:F,totalPost:S.length,paginate:function(e){A(e)},currentPage:E})]})]})]})})},Q=a(34),V=a.n(Q),W=function(e){var t=e.msg;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"alert alert-info alert-dismissible fade show",role:"alert",children:[t,Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})},X=function(e){var t=e.percentage;return Object(h.jsx)("div",{className:"progress",children:Object(h.jsxs)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"".concat(t,"%")},children:[t,"%"]})})},Z=function(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)("Choose File"),n=Object(p.a)(s,2),i=n[0],o=n[1],l=Object(c.useState)({}),b=Object(p.a)(l,2),u=b[0],O=b[1],m=Object(c.useState)(""),x=Object(p.a)(m,2),v=x[0],g=x[1],N=Object(c.useState)(0),y=Object(p.a)(N,2),_=y[0],w=y[1],S=function(){var e=Object(d.a)(j.a.mark((function e(t){var c,r,s,n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(c=new FormData).append("file",a),e.prev=3,e.next=6,V.a.post("".concat(f,"/upload"),c,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){w(Math.round(100*e.loaded/e.total)),setTimeout((function(){return w(0)}),1e4)}});case 6:r=e.sent,s=r.data,n=s.fileName,i=s.filePath,O({fileName:n,filePath:i}),g("File uploaded"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),500===e.t0.response.status?g("there was a problem with the  server"):g(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(c.Fragment,{children:[v?Object(h.jsx)(W,{msg:v}):null,Object(h.jsxs)("form",{onSubmit:S,children:[Object(h.jsxs)("div",{className:"custom-file mb-4",children:[Object(h.jsx)("input",{onChange:function(e){console.log(e.target.files[0].name),o(e.target.files[0].name),r(e.target.files[0])},type:"file",className:"custom-file-input",id:"customFile"}),Object(h.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:i})]}),Object(h.jsx)(X,{percentage:_}),Object(h.jsx)("input",{type:"submit",value:"Upload",className:"btn btn-primary btn-block mt-4"})]}),u?Object(h.jsx)("div",{className:"row mt-5",children:Object(h.jsx)("div",{className:"col-md-6 m-auto",children:Object(h.jsx)("h3",{})})}):null]})},ee=function(){return Object(h.jsx)(I,{children:Object(h.jsxs)("div",{className:"main__container",children:[Object(h.jsxs)("div",{className:"main__title",children:[Object(h.jsx)("img",{src:"assets/banner.jpg",alt:""}),Object(h.jsx)("div",{className:"main__greeting",children:Object(h.jsx)("h1",{className:"text-primary-p",children:"Profile"})})]}),Object(h.jsx)("hr",{className:"main__cards"}),Object(h.jsxs)("div",{className:"charts",children:[Object(h.jsxs)("div",{className:"charts__left",children:[Object(h.jsx)("div",{className:"charts__left__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Upload Your Excel Sheet"})})}),Object(h.jsx)("div",{id:"apex1",children:Object(h.jsx)(Z,{})})]}),Object(h.jsxs)("div",{className:"charts__right",children:[Object(h.jsx)("div",{className:"charts__right__title",children:Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"text-title",children:"Allocate Manually"})})}),Object(h.jsx)("div",{className:"charts__right__cards"})]})]})]})})},te=a(35),ae=function(e){var t=e.component,a=Object(te.a)(e,["component"]);return Object(h.jsx)(o.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return localStorage.getItem("usersign")&&JSON.parse(localStorage.getItem("usersign")||"{}")?Object(h.jsx)(t,Object(u.a)({},e)):Object(h.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},ce=function(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/",exact:!0,component:P}),Object(h.jsx)(ae,{path:"/dashboard",exact:!0,component:D}),Object(h.jsx)(ae,{path:"/manageallocations",exact:!0,component:L}),Object(h.jsx)(ae,{path:"/allocate",exact:!0,component:ee}),Object(h.jsx)(ae,{path:"/users",exact:!0,component:Y})]})})};n.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(ce,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.5adc6e97.chunk.js.map